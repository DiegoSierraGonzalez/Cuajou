<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>¡FELIZ FELIZ NO CUMPLEAÑOS! ó Fröhlichen Nicht-Geburtstag!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Splash -->
    <div class="splash" id="splash">
        <h1>🎉 ¡Bienvenida, Cuajo! 🎉</h1>
        <p>Hoy no es tu cumpleaños...<br>¡pero sí una experiencia para celebrarte!</p>
    </div>
    <canvas class="confetti" id="confetti"></canvas>
    <div class="main-content" id="main-content">
        <button class="theme-toggle" id="theme-toggle" title="Cambiar tema">🌙</button>
        <div class="landing">
            <h1>¡FELIZ FELIZ NO CUMPLEAÑOS! ó Fröhlichen Nicht-Geburtstag!</h1>
            <img src="FotoCuajo.jpg" alt="Cuajo" class="main-photo">
        </div>
        <nav>
            <ul>
                <li class="active" onclick="showTab('cumple', this)">🎂 No Cumpleaños</li>
                <li onclick="showTab('momentos', this)">📸 Momentos</li>
                <li onclick="showTab('timeline', this)">🕰️ Línea del Tiempo</li>
                <li onclick="showTab('sorpresa', this)">🎁 INVITACIÓN</li>
                <li onclick="showTab('mensaje', this)">💌 Cartita</li>
            </ul>
        </nav>
        <section id="cumple" class="tab show">
            <strong>Porque cualquier día es perfecto para celebrarte, Cuajo.</strong>
        </section>
        <section id="momentos" class="tab">
            <div id="momentos-container"></div>
        </section>
        <!-- NUEVA SECCIÓN DE LÍNEA DEL TIEMPO -->
        <section id="timeline" class="tab">
          <h2 class="timeline-title">Nuestra Historia</h2>
          <div class="timeline">
            <div class="timeline-event left">
              <div class="content">
                <h3>Primer mensaje</h3>
                <span class="date">22 marzo 2025</span>
                <p>¡El día que te escribi por primera vez y empezó todo! 💌</p>
              </div>
            </div>
            <div class="timeline-event right">
              <div class="content">
                <h3>Primera cita</h3>
                <span class="date">5 junio 2025</span>
                <p>El café, los retos y las risas. ¡Inolvidable!</p>
                <img src="FirstDate.png" alt="Primera cita">
              </div>
            </div>
            <div class="timeline-event left">
              <div class="content">
                <h3>Viaje juntos</h3>
                <span class="date">20 May 2023</span>
                <p>Nuestra primera aventura fuera de la ciudad, ¡qué recuerdos!</p>
                <img src="foto_viaje.jpg" alt="Viaje juntos">
              </div>
            </div>
            <div class="timeline-event right">
              <div class="content">
                <h3>Hoy</h3>
                <span class="date">06 Jun 2025</span>
                <p>¡Seguimos sumando momentos y sueños juntos! 💖</p>
              </div>
            </div>
          </div>
        </section>
        <section id="sorpresa" class="tab">
            <strong>¡Hola, Cuajo 🏁❤️</strong>
            <br><br>
            Tengo una propuesta digna del paddock de Ferrari: <br>
            Quiero invitarte a ver la nueva película de la Fórmula 1.<br><br>
            Tú serías la escudería Ferrari, impecable, con clase, y siempre robando miradas…
            y yo, bueno… yo sería el piloto que solo quiere una vuelta contigo, aunque sea en la curva más cerrada del calendario 😅🏎️💘<br><br>
            Si te animas, prometo llevar mi pierna buena, comentarios de segundo lugar (porque el primero siempre te lo dejo a ti) y buena compañía en la recta final.
            Más chistes malos como ese.<br><br>
            ¿Aceptas esta pole position a mi lado? ✨
        </section>
        <section id="mensaje" class="tab">
            <strong>Querida Cuajo,</strong>
            <br><br>
            ¡Fröhlichen Nicht-Geburtstag!<br>
            Hoy no es tu cumpleaños, pero eso no me detiene para celebrarte como si lo fuera.<br><br>
            Sé que no estuve contigo ese día especial, y créeme que lo he tenido en el corazón desde entonces.
            A veces la vida nos pone lejos en los momentos que más quisiéramos estar cerca, pero siempre hay formas de compensarlo.<br><br>
            Este “no cumpleaños” es solo una excusa para decirte que me importas muchísimo.
            Que me emociona cada día compartir momentos contigo, y que si pudiera retroceder el tiempo, estaría ahí contigo sin pensarlo dos veces.<br><br>
            Deseo que todo lo bueno que sueñas siga llegando a tu vida, y que nunca te falte un motivo para sonreír.
            Yo, por mi parte, siempre voy a estar buscando nuevas formas de hacerte sentir especial.<br><br>
            Brindo por ti, Cuajo. Por lo que eres, por lo que sueñas y por todo lo bonito que aún nos queda por vivir.<br><br>
            <em>MIT LIEBE, Diego 💖</em>
        </section>
        <div class="spotify-player">
            <iframe 
                src="https://open.spotify.com/embed/track/2BjRhZ2IJmsO1GRquNldsP?utm_source=generator" 
                frameBorder="0" allowfullscreen="" 
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                loading="lazy">
            </iframe>
        </div>
        <footer>
            Hecho con 💖 por Diego Sierra · 2025 · Para Cuajo
        </footer>
    </div>
    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
        <button class="lightbox-close" onclick="closeLightbox(event)">&times;</button>
        <img src="" alt="Foto ampliada" id="lightbox-img">
    </div>
    <script>
        // Splash & Main Reveal
        setTimeout(() => {
            document.getElementById('splash').style.display = 'none';
            document.getElementById('main-content').style.opacity = '1';
        }, 2700);

        // Confetti Animation
        window.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('confetti');
            const ctx = canvas.getContext('2d');
            let w = canvas.width = window.innerWidth, h = canvas.height = window.innerHeight;
            let pieces = Array.from({length: 55}, () => ({
                x: Math.random() * w,
                y: Math.random() * -h,
                r: 6 + Math.random() * 12,
                d: Math.random() * 55,
                color: `hsl(${Math.random()*360},90%,60%)`,
                tilt: Math.random() * 10 - 10,
                tiltAngle: 0
            }));

            function drawConfetti() {
                ctx.clearRect(0,0,w,h);
                pieces.forEach(p => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                });
            }
            function updateConfetti() {
                pieces.forEach(p => {
                    p.y += (Math.cos(p.d) + 2 + p.r/6)/2;
                    p.x += Math.sin(0.01 * p.d) * 2;
                    if(p.y > h) {
                        p.x = Math.random() * w;
                        p.y = Math.random() * -20;
                    }
                });
            }
            let confettiActive = true;
            function animate() {
                if (confettiActive) {
                    drawConfetti();
                    updateConfetti();
                    requestAnimationFrame(animate);
                }
            }
            animate();
            setTimeout(() => {
                confettiActive = false;
                ctx.clearRect(0,0,w,h);
                canvas.style.display = "none";
            }, 2600);
            window.addEventListener('resize', () => {
                w = canvas.width = window.innerWidth;
                h = canvas.height = window.innerHeight;
            });
        });

        // Momentos - renderizado dinámico
        const recuerdos = [
            {
                titulo: "Recuerdo 1",
                img: "recuerdo1.jpg"
            },
            {
                titulo: "Recuerdo 2",
                img: "recuerdo2.jpg"
            }
        ];

        let momentosRendered = false;

        function renderMomentos() {
            if (momentosRendered) return;
            const cont = document.getElementById('momentos-container');
            recuerdos.forEach(r => {
                const div = document.createElement('div');
                div.className = "momento-recuerdo";
                div.innerHTML = `
                    <h3>${r.titulo}</h3>
                    <img src="${r.img}" alt="${r.titulo}" onclick="openLightbox('${r.img}')">
                `;
                cont.appendChild(div);
            });
            momentosRendered = true;
        }

        // Tabs
        function showTab(tabId, el) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('show'));
            document.getElementById(tabId).classList.add('show');
            document.querySelectorAll('nav li').forEach(li => li.classList.remove('active'));
            if(el) el.classList.add('active');
            if(tabId === 'momentos') renderMomentos();
        }
        window.onload = () => showTab('cumple', document.querySelector('nav li'));

        // Lightbox
        function openLightbox(src) {
            document.getElementById('lightbox').classList.add('show');
            document.getElementById('lightbox-img').src = src;
        }
        function closeLightbox(event) {
            if (event.target.classList.contains('lightbox') || event.currentTarget.classList.contains('lightbox-close')) {
                document.getElementById('lightbox').classList.remove('show');
                document.getElementById('lightbox-img').src = '';
            }
        }

        // Theme toggle
        const themeBtn = document.getElementById('theme-toggle');
        themeBtn.onclick = () => {
            document.body.classList.toggle('dark');
            themeBtn.textContent = document.body.classList.contains('dark') ? '☀️' : '🌙';
        };
    </script>
</body>
</html>
